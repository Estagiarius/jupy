{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %} <!-- Dynamic title -->

{% block content %}
    <h2>{{ legend }}</h2> <!-- Dynamic legend -->
    <form method="POST" action=""> {# Action URL will be set by the route #}
        {{ form.hidden_tag() }} {# CSRF token #}
        
        <p>
            {{ form.description.label(text='Descrição') }}<br>
            {{ form.description(rows=5, cols=60, class="form-control") }}<br>
            {% if form.description.errors %}
                <ul class="errors">
                    {% for error in form.description.errors %}<li>{{ error }}</li>{% endfor %}
                </ul>
            {% endif %}
        </p>
        <p>
            {{ form.due_date.label(text='Data de Vencimento (AAAA-MM-DD)') }}<br>
            {{ form.due_date(class="form-control") }}<br>
            {% if form.due_date.errors %}
                <ul class="errors">
                    {% for error in form.due_date.errors %}<li>{{ error }}</li>{% endfor %}
                </ul>
            {% endif %}
        </p>
        <p>
            {{ form.priority.label(text='Prioridade') }}<br>
            {{ form.priority(class="form-control") }}<br>
            {% if form.priority.errors %}
                <ul class="errors">
                    {% for error in form.priority.errors %}<li>{{ error }}</li>{% endfor %}
                </ul>
            {% endif %}
        </p>
        <p>
            {{ form.status.label(text='Status') }}<br>
            {{ form.status(class="form-control") }}<br>
            {% if form.status.errors %}
                <ul class="errors">
                    {% for error in form.status.errors %}<li>{{ error }}</li>{% endfor %}
                </ul>
            {% endif %}
        </p>
        <p>{{ form.submit(value='Salvar Tarefa', class="btn btn-primary") }}</p>
    </form>

    <a href="{{ url_for('todo.list_tasks') }}">Voltar para a Lista de Tarefas</a>
{% endblock %}
