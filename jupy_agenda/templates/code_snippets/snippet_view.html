{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<style>
    .snippet-details p {
        margin-bottom: 10px;
    }
    .snippet-details strong {
        margin-right: 5px;
    }
    .code-display-box {
        background-color: #f8f9fa; /* Light grey background */
        border: 1px solid #dee2e6; /* Softer border */
        padding: 15px;
        border-radius: 4px;
        overflow-x: auto; /* Allow horizontal scrolling for long lines */
        margin-top: 10px;
        margin-bottom: 20px;
    }
    .code-display-box pre {
        margin: 0; /* Remove default pre margin */
        font-family: monospace;
        white-space: pre-wrap; /* Wrap long lines but preserve formatting */
        word-wrap: break-word; /* Break words if they are too long */
    }
</style>

<h2>{{ snippet.title }}</h2>

<div class="snippet-details">
    <p><strong>Title:</strong> {{ snippet.title }}</p>
    
    {% if snippet.language_hint %}
    <p><strong>Language Hint:</strong> {{ snippet.language_hint }}</p>
    {% endif %}
    
    <p><strong>Content:</strong></p>
    <div class="code-display-box">
        <pre><code>{{ snippet.content | e }}</code></pre> {# Ensure content is escaped #}
    </div>

    <p><strong>Created:</strong> {{ snippet.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</p>
    {% if snippet.updated_at and snippet.updated_at != snippet.created_at %}
    <p><strong>Last Updated:</strong> {{ snippet.updated_at.strftime('%Y-%m-%d %H:%M:%S') }}</p>
    {% endif %}
</div>

<div style="margin-top: 20px;">
    <a href="{{ url_for('code_snippet.edit_code_snippet', snippet_id=snippet.id) }}" class="btn btn-info">Edit Snippet</a>
    <a href="{{ url_for('code_snippet.list_code_snippets') }}" class="btn btn-secondary">Back to Snippets List</a>
</div>

{% endblock %}
